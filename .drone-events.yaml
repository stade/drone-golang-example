---
kind: pipeline
name: branch-build

steps:
- name: test
  image: golang
  commands:
    - sleep 15
    - go test -short
    - echo "This is branch-build!"

trigger:
  event:
    include:
      - push
    exclude:
      - pull_request

---
kind: pipeline
name: pr-build

- name: test-pr
  image: golang
  commands:
    - sleep 15
    - go test -v
    - echo "This is pr-build!"
  event:
    - pull_request
   
trigger:
  event:
    include:
      - pull_request
    exclude:
      - push
